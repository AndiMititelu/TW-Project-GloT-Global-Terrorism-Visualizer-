<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://www.gstatic.com/charts/loader.js"></script>
        <title>TerroristTracker</title>
        <link rel="stylesheet" href="/static/styles.css">
        <link rel="stylesheet" href="/static/statistics/filtered-search.css">
        <link rel="stylesheet" href="/static/statistics/filters.css">
        <link rel="stylesheet" href="/static/statistics/filters2.css">
        <link rel="stylesheet" href="/static/statistics/chart.css">
        <link rel="stylesheet" href="/static/homepage/home.css">
        <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
        <script src='https://unpkg.com/leaflet-image@0.4.0/leaflet-image.js'></script>

    </head>

    <body>
        <header>
            <div class="logo">Terrorism Visualizer</div>
            <div class="hamburger">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </div>
            <nav class="nav-bar">
                <ul>
                    <li>
                        <a href="#home" class="active">Home</a>
                    </li>
                    <li>
                        <a href="#news" class="scrollable">News</a>
                    </li>
                    <li>
                        <a href="#stat" class="scrollable">Statistics</a>
                    </li>
                    <li>
                        <a href="#mapping" class="scrollable">Map</a>
                    </li>
                    <li>
                        <a href="/login.html" id="login" class="scrollable">Log-out</a>
                    </li>
                </ul>
            </nav>
        </header>

        <div class="vertical-container">

            <div class="section home" id="home">
                <div class="home-text">
                    <p class = "p1">Terrorism, in its broadest sense, is the use of intentional violence
                        and fear to achieve political or ideological aims.
                        The term is used in this regard primarily to refer to
                        intentional violence during peacetime or in the context of
                        war against non-combatants (mostly civilians and
                        neutral military personnel)</p>
                </div>
            </div>

            <div class="section" id="news">
                <div class="section-header">Last News </div>
                <div class="slideshow-container">
                    <!-- Full-width images with number and caption text -->
                    <div class="mySlides fade">
                        <div class="numbertext">1 / 3</div>
                        <img class = "image" src="/static/images/img1.jpeg" style="width:100%" alt="..." loading="lazy">
                        <a href="https://news.sky.com/story/man-arrested-in-germany-on-suspicion-of-procuring-cyanide-and-ricin-for-islamist-motivated-attack-12782428" target="_blank">
                            <div class="text">
                                Man arrested in Germany on suspicion of procuring cyanide and ricin for 'Islamist-motivated' attack
                            </div>
                        </a>
                    </div>
                    <div class="mySlides fade">
                        <div class="numbertext">2 / 3</div>
                        <img class = "image" src="/static/images/img2.jpeg" style="width:100%" alt="..." loading="lazy">
                        <a href="https://www.usnews.com/news/world/articles/2023-03-28/2-dead-in-portugal-stabbing-at-muslim-center" target="_blank">
                            <div class="text">
                                Portugal: Refugee Held as Suspect in Muslim Center Stabbings
                            </div>
                        </a>
                    </div>
                    <div class="mySlides fade">
                        <div class="numbertext">3 / 3</div>
                        <img class = "image" src="/static/images/img3.jpg" style="width:100%" alt="..." loading="lazy">
                        <a href="https://www.independent.co.uk/news/uk/home-news/iran-irgc-terrorist-group-uk-b2260184.html" target="_blank">
                            <div class="text">
                                Declaring Iran’s IRGC a terrorist group would destabilise UK’s definition of terrorism, Suella Braverman warned
                            </div>
                        </a>
                    </div>
                    <!-- Next and previous buttons -->
                    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                    <a class="next" onclick="plusSlides(1)">&#10095;</a>
                </div>
                <br>
                <!-- The dots/circles -->
                <div style="text-align:center">
                    <span class="dot" onclick="currentSlide(1)"></span>
                    <span class="dot" onclick="currentSlide(2)"></span>
                    <span class="dot" onclick="currentSlide(3)"></span>
                </div>
            </div>

            <div class="section" id="stat">
                <div class="section-header">Statistics </div>
                <br>
                <div class="horizontal-container">
                    <form class="form" id="formId">
                        <div class="bars">
                            <input type="text" placeholder="Search here...">
                            <input type="submit" value="Submit">
                        </div>
                        <label for="region">Select Region: </label>
                        <br>
                        <select id="region">
                            <option value="1">Select region: </option>
                            <option value="2">Central America</option>
                            <option value="3">Western Europe</option>
                            <option value="4">East Asia</option>
                            <option value="5">Middle East & North Africa</option>
                            <option value="6">Southeast Asia</option>
                            <option value="7">North America</option>
                        </select>
                        <br>
                        <label for="attack-type">Select Attack Type: </label>
                        <br>
                        <select id="attack-type">
                            <option value="1">Attack type: </option>
                            <option value="2">Assassination</option>
                            <option value="3">Hostage Taking</option>
                            <option value="4">Bombing</option>
                            <option value="5">Armed Assault</option>
                            <option value="6">Other Crime Type</option>
                        </select>
                        <br>
                        <label for="main-target">Select Main Target: </label>
                        <br>
                        <select id="main-target">
                            <option value="1">Main target: </option>
                            <option value="2">Big Target</option>
                            <option value="3">Medium Target Taking</option>
                            <option value="4">Small Target</option>
                            <option value="5">Dangerous Target</option>
                            <option value="6">Other Targets</option>
                        </select>
                        <br>
                        <label for="main-nationality">Select Main Nationality: </label>
                        <select id="main-nationality">
                            <option value="1">Target nationality: </option>
                            <option value="2">Indian</option>
                            <option value="3">Chinese</option>
                            <option value="4">American</option>
                            <option value="5">French</option>
                            <option value="6">Russian</option>
                        </select>
                        <br>
                        <label for="main-weapon">Select Main Weapon: </label>
                        <br>
                        <select id="main-weapon">
                            <option value="1">Main weapon: </option>
                            <option value="2">Watergun</option>
                            <option value="3">AK-47</option>
                            <option value="4">Glass bottle</option>
                            <option value="5">Fists</option>
                            <option value="6">Hands</option>
                        </select>
                        <br>
                        <label for="chart">Select-Chart: </label>
                        <br>
                        <select id="chart">
                            <option value="1">Chart Type: </option>
                            <option value="2">Pie Chart</option>
                            <option value="3">Bar Chart</option>
                            <option value="4">Line Chart</option>
                            <option value="5">Scatter Chart</option>
                        </select>
                        <input type="button" value="Analyze" id="generate-chart">
                    </form>
                    
                    <div class="chart">
                        <div id="myPieChart"></div>
                        <div id="myBarChart"></div>
                    </div>
                </div>
                <button class="export-button-stats" onclick="openPopupStats()">Export</button>
                    <div id="popup-stats" class="popup-stats" style="display: none;">
                        <button class = "popup-button-stats" onclick="downloadChartAsCsv()">
                            <img src="static/images/csv.png" alt="Icon 1" loading="lazy">
                        </button>
                        <button class = "popup-button-stats" onclick="downloadChartAsPng()">
                            <img src="static/images/png.png" alt="Icon 2" loading="lazy">
                        </button>
                        <button class = "popup-button-stats" onclick="downloadChartAsSvg()">
                            <img src="static/images/svg.png" alt="Icon 3" loading="lazy">
                        </button>
                    </div>
            </div>

            <div class="section map-bg" id="mapping">
                <div class="section-header">Map Visualizer</div>
                <br>
                <div class="horizontal-container">
                    <form class="form">
                        <label for="interval-start">From:</label>
                        <input type="date" id="interval-start" name="interval-start">
                        <br>
                        <label for="interval-end">Until:</label>
                        <input type="date" id="interval-end" name="interval-end">
                        <br>
                        <label for="organization">Organization Name:</label>
                        <select id="organization" name="Organisation">
                            <option value="Black Panthers">Black Panthers</option>
                            <option value="ISIS">ISIS</option>
                            <option value="Al-Qaeeda">Al-Qaeeda</option>
                            <option value="Irish Republican Army">Irish Republican Army</option>
                            <option value="Unknown">Unknown</option>
                        </select>
                        <br>
                        <input type="submit" value="Analyze">
                    </form>
                    <div id="map"></div>
                    <button class="export-button" onclick="openPopup()">Export</button>
                        <div id="popup" class="popup" style="display: none;">
                            <button class = "popup-button" onclick="downloadMapAsCsv()">
                                <img src="static/images/csv.png" alt="Icon 1" loading="lazy">
                            </button>
                            <button class = "popup-button" onclick="downloadMapAsPng()">
                                <img src="static/images/png.png" alt="Icon 2" loading="lazy">
                            </button>
                            <button class = "popup-button" onclick="downloadMapAsSvg()">
                                <img src="static/images/svg.png" alt="Icon 3" loading="lazy">
                            </button>
                        </div>
                </div>
            </div>
        </div>
        <button onclick="topFunction()" id="myBtn" title="Go to top">
            <span>&#8686;</span>
        </button>

        <script src="/static/scrollTopButton.js"> </script>
        <script src="/static/statistics/filter.js"> </script>
        <script src="/static/animate.js"> </script>
        <script src="/static/route.js"></script>
        <script src="/static/export.js"></script>

        <!-- Script pentru nav-bar cand max-width = 900px -->
        <script>
              hamburger = document.querySelector(".hamburger");
              hamburger.onclick = function() {
                navbar = document.querySelector(".nav-bar");
                navbar.classList.toggle("active");
              }
        </script>

        <!-- Script pentru pop-up export -->
        <script>
            function openPopup() {
                var popup = document.getElementById('popup');
                if (popup.style.display === "none") {
                    popup.style.display = "flex";
                    popup.style.justifyContent = "center";
                }
                else popup.style.display = "none";
            }
        </script>
        <script>
            function openPopupStats() {
                var popup = document.getElementById('popup-stats');
                if (popup.style.display === 'none') {
                    popup.style.display = 'flex';
                    popup.style.justifyContent = 'center';
                }
                else popup.style.display = 'none';
            }
        </script>

        <!--Script pentru fade scroll-->
        <script>
            function updateBackgroundOpacity() {
                const background = document.querySelector('.home');
                const scrollPos = window.scrollY || window.pageYOffset;
                const elementHeight = background.offsetHeight;
                
                const opacity = 1 - (scrollPos / elementHeight);
                background.style.opacity = opacity;
            }
            window.addEventListener('scroll', updateBackgroundOpacity);
        </script>

    </body>
</html>
